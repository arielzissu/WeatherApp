(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),i=n.n(c),o=n(31),s=(n(129),n(49)),u=(n(130),n(131),n(132),n(15)),l=n(24),d=n(12),f=n.n(d),j=n(17),v=n(23),p=n(198),b=n(196),O=n(191),h=n(190),x=n(192);function m(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"SAVE_FAVORITE",favorite:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var y,g,k,F=n(90),D=n(91),w=n(64),E=n.n(w),T="EjKAgOHhI2MH8N5AeybQr3ObfyI5rflV",A="215854",M=function(){function e(){Object(F.a)(this,e)}return Object(D.a)(e,null,[{key:"getCurrentWeather",value:function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(null!==n&&void 0!==n?n:A,"?apikey=").concat(T));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),t(e.t0,"Faild to fetch Current weather data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLocationsOptions",value:function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(T,"&q=").concat(t,"&language=en-us"));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),n(e.t0,"Faild to fetch locations options data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDaysOfDailyForecasts",value:function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(null!==n&&void 0!==n?n:A,"?apikey=").concat(T));case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),t(e.t0,"Faild to fetch days of daily forecasts data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),C=n(200),I=n(201),N={Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv",Country:{ID:"IL",LocalizedName:"Israel"},AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"}},R=n(65),S=n(66),L=n(186),V=Object(S.a)(p.a)(y||(y=Object(R.a)([" && {\n    border: 1px solid black;\n    padding: 20px;\n    min-width: 150px;\n    min-height: 200px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    margin-right: 10px;\n    @media screen and (max-width: 1140px) {\n        width: 60%;\n        margin-right: 0;\n        margin-bottom: 20px;\n    }\n}"]))),_=Object(S.a)(V)(g||(g=Object(R.a)([" && {\n    position: relative;\n    margin-right: 0;\n    cursor: pointer;\n    &:hover {\n        background-color: #eee;\n    }\n}"]))),W=Object(S.a)(L.a)(k||(k=Object(R.a)([" && {\n    padding: 40px;\n    min-height: 60%;\n    @media screen and (max-width: 900px) {\n        padding: 10px;\n    }\n}"]))),z=n(188),H=n(99),K=n.n(H),P=n(4);function U(e){var t=e.daysOfDailyForecasts;return Object(P.jsx)(P.Fragment,{children:t.map((function(e,t){return Object(P.jsxs)(V,{children:[Object(P.jsx)(p.a,{children:K()(e.Date).format("ddd")}),Object(P.jsxs)(p.a,{children:[e.Temperature.Maximum.Value," ",e.Temperature.Maximum.Unit]})]},t)}))})}var B=n(189),J=n.p+"static/media/sun.00bf46d2.png";function X(e){var t=e.daysOfDailyForecasts,n=e.isDarkMode,r=e.currentWeather,a=e.currentLocationOption,c=e.canRenderCardDetails,i=e.isFavoriteWeather,o=e.handleAddToFavorite;return Object(P.jsx)(W,{variant:"outlined",style:n?{backgroundColor:"gray",color:"white"}:{},children:c&&a&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(p.a,{className:"contain-header-weader-card",children:[Object(P.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(P.jsx)(p.a,{mr:2,className:"weather-icon-contain",children:Object(P.jsx)("img",{src:J,alt:"Weather",style:{width:80,height:80}})}),Object(P.jsxs)(p.a,{children:[Object(P.jsx)(p.a,{children:a.LocalizedName}),r&&Object(P.jsxs)(p.a,{children:[r.Temperature.Metric.Value," ",r.Temperature.Metric.Unit]})]})]}),Object(P.jsxs)(z.a,{className:"add-favorite-btn",style:n?{color:"white"}:{},onClick:o,children:[Object(P.jsx)(B.a,{htmlColor:i()?"blue":"",className:"love-icon"}),"Add to favorite"]})]}),i()&&Object(P.jsx)(p.a,{textAlign:"center",mb:3,children:Object(P.jsx)(p.a,{fontSize:"20px",color:"blue",fontWeight:"700",children:"In Favorite"})}),Object(P.jsx)(p.a,{textAlign:"center",mb:3,children:Object(P.jsx)(p.a,{fontSize:"20px",children:"Scattered cloud"})}),Object(P.jsx)(p.a,{className:"contain-cards",children:Object(P.jsx)(U,{daysOfDailyForecasts:t})})]})})}var q={addFavorite:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"ADD_FAVORITE",favorite:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveFavorite:m},Q=Object(o.b)((function(e){return{favorites:e.favorite.favorites,currentFavorite:e.favorite.currentFavorite,isDarkMode:e.darkMode.isDarkMode}}),q)((function(e){var t,n=Object(r.useState)(!1),a=Object(v.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),s=Object(v.a)(o,2),u=s[0],d=s[1],m=Object(r.useState)(""),y=Object(v.a)(m,2),g=y[0],k=y[1],F=Object(r.useState)([]),D=Object(v.a)(F,2),w=D[0],E=D[1],T=Object(r.useState)(e.currentFavorite?void 0:N),A=Object(v.a)(T,2),R=A[0],S=A[1],L=Object(r.useState)(null),V=Object(v.a)(L,2),_=V[0],W=V[1],z=Object(r.useState)(null),H=Object(v.a)(z,2),K=H[0],U=H[1],B=function(e,t){d(t),i(!0),setTimeout((function(){i(!1)}),5e3)},J=function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getCurrentWeather(B,t);case 2:n=e.sent,r=null===n||void 0===n?void 0:n.data[0],W(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getDaysOfDailyForecasts(B,null===t||void 0===t?void 0:t.Key);case 2:r=e.sent,U(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.DailyForecasts);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.next=4,q();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var t=Object(j.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.currentFavorite,t.next=3,J(n.key);case 3:return t.next=5,q(n);case 5:S(n),e.saveFavorite(null);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){e.currentFavorite?G():Q()}),[e.currentFavorite]);var Y=function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,k(n),!n){e.next=7;break}return e.next=5,M.getLocationsOptions(n,B);case 5:r=e.sent,E(null===r||void 0===r?void 0:r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(n),e.next=3,q(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){return!!e.favorites.find((function(e){return e.LocalizedName===(null===R||void 0===R?void 0:R.LocalizedName)}))},ee=!(!K||!((null===g||void 0===g?void 0:g.length)>0||R));return Object(P.jsxs)(p.a,{height:"100%",children:[Object(P.jsx)(p.a,{className:"autocomplete-contain",children:Object(P.jsx)(C.a,{options:w,freeSolo:!0,defaultValue:null!==(t=e.currentFavorite)&&void 0!==t?t:N,onChange:Z,getOptionLabel:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.LocalizedName)&&void 0!==t?t:""},style:{width:300},renderInput:function(e){return Object(P.jsx)(b.a,Object(l.a)(Object(l.a)({},e),{},{label:"Add city name",value:g,onChange:Y}))}})}),Object(P.jsx)(X,{daysOfDailyForecasts:K,isDarkMode:e.isDarkMode,currentWeather:_,currentLocationOption:R,canRenderCardDetails:ee,handleAddToFavorite:function(){if(!$()){var t={id:(n=1,r=999999,Math.floor(Math.random()*(r-n)+n)),LocalizedName:R.LocalizedName,Key:R.Key,Temperature:_.Temperature};e.addFavorite(t)}var n,r},isFavoriteWeather:$}),Object(P.jsx)(O.a,{in:c,style:{position:"fixed",bottom:10,left:10,padding:10},children:Object(P.jsx)(I.a,{severity:"error",action:Object(P.jsx)(h.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){i(!1)},children:Object(P.jsx)(x.a,{fontSize:"inherit"})}),children:u})})]})})),G=n(193);function Y(e){var t=e.favoritesData,n=e.onDeleteFavorite,r=e.onClickFavoriteCard;return Object(P.jsx)(P.Fragment,{children:t.length>0?t.map((function(e){return Object(P.jsxs)(_,{onClick:function(){r(e)},children:[Object(P.jsx)(G.a,{title:"Delete",children:Object(P.jsx)(x.a,{className:"close-icon",onClick:function(t){return function(e,t){e.stopPropagation(),n(t)}(t,e.id)}})}),Object(P.jsx)(p.a,{children:e.LocalizedName}),Object(P.jsxs)(p.a,{children:[e.Temperature.Metric.Value," ",e.Temperature.Metric.Unit]})]},e.id)})):Object(P.jsx)(p.a,{children:Object(P.jsx)(p.a,{children:"Empty favorite..."})})})}var Z={deleteFavorite:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"DELETE_FAVORITE",favoriteId:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveFavorite:m},$=Object(o.b)((function(e){return{favorites:e.favorite.favorites}}),Z)((function(e){var t=Object(r.useState)([]),n=Object(v.a)(t,2),a=n[0],c=n[1],i=Object(u.g)();return Object(r.useEffect)((function(){e.favorites&&c(e.favorites)}),[e.favorites]),Object(P.jsx)(p.a,{className:"container-favorite-cards",children:Object(P.jsx)(Y,{favoritesData:a,onDeleteFavorite:function(t){e.deleteFavorite(t)},onClickFavoriteCard:function(t){i.push(ee.WEATHER),e.saveFavorite(t)}})})})),ee={ROOT:"/",WEATHER:"/WeatherApp",FAVORITE:"/favorite"},te=[{path:ee.ROOT,render:function(){return Object(P.jsx)(u.a,{to:ee.WEATHER})},title:"MDC Dashboard"},{path:ee.WEATHER,component:Q,title:"Weather"},{path:ee.FAVORITE,component:$,title:"Favorite"}];function ne(){return Object(P.jsx)(u.d,{children:te.map((function(e){var t=e.path,n=e.exact,r=e.render,a=e.component;return Object(P.jsx)(u.b,{exact:!1!==n,path:t,render:r,component:a},t)}))})}var re=n(199),ae=n(194),ce=n(202),ie=n(203),oe=n(195);var se={updateIsDarkMode:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"UPDATE_DARK_MODE",isDarkMode:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ue=Object(o.b)((function(e){return{isDarkMode:e.darkMode.isDarkMode}}),se)((function(e){var t=Object(u.g)(),n=Object(r.useState)(0),a=Object(v.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(!1),s=Object(v.a)(o,2),l=s[0],d=s[1];return Object(P.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(P.jsxs)(re.a,{indicatorColor:"primary",textColor:"primary",value:c,onChange:function(e,n){i(n),t.push(0===n?ee.WEATHER:ee.FAVORITE)},children:[Object(P.jsx)(ae.a,{icon:Object(P.jsx)(oe.a,{}),label:"Home"}),Object(P.jsx)(ae.a,{icon:Object(P.jsx)(B.a,{}),label:"Favorite"})]}),Object(P.jsx)(ce.a,{control:Object(P.jsx)(ie.a,{checked:l,onChange:function(){d(!l),e.updateIsDarkMode(!l)},name:"checkedB",color:"primary"}),label:"Dark mode"})]})}));var le=Object(o.b)((function(e){return{isDarkMode:e.darkMode.isDarkMode}}),{})((function(e){return Object(P.jsx)(s.a,{children:Object(P.jsxs)("section",{className:"app-container",children:[Object(P.jsx)(ue,{}),Object(P.jsx)("main",{className:"main-container",style:e.isDarkMode?{backgroundColor:"lightgray",color:"white"}:{},children:Object(P.jsx)(ne,{})})]})})})),de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,205)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},fe=n(53),je=n(102),ve=n(103),pe={favorites:[],currentFavorite:null};var be={isDarkMode:!1};var Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.c,he=Object(fe.b)({favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return Object(l.a)(Object(l.a)({},e),{},{favorites:[].concat(Object(ve.a)(e.favorites),[t.favorite])});case"SAVE_FAVORITE":return Object(l.a)(Object(l.a)({},e),{},{currentFavorite:t.favorite});case"DELETE_FAVORITE":return Object(l.a)(Object(l.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.favoriteId}))});default:return e}},darkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_DARK_MODE":return Object(l.a)(Object(l.a)({},e),{},{isDarkMode:t.isDarkMode});default:return e}}}),xe=Object(fe.d)(he,Oe(Object(fe.a)(je.a)));i.a.render(Object(P.jsx)(o.a,{store:xe,children:Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(le,{})})}),document.getElementById("root")),de()}},[[156,1,2]]]);
//# sourceMappingURL=main.3ad16c4b.chunk.js.map