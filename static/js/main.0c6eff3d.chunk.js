(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{129:function(e,t,r){},130:function(e,t,r){},131:function(e,t,r){},132:function(e,t,r){},156:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(13),i=r.n(c),o=r(31),s=(r(129),r(49)),u=(r(130),r(131),r(132),r(15)),l=r(24),d=r(12),f=r.n(d),j=r(17),v=r(23),p=r(198),b=r(196),O=r(191),h=r(190),x=r(192);function m(e){return function(){var t=Object(j.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"SAVE_FAVORITE",favorite:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var y,g,k,F=r(90),D=r(91),w=r(64),E=r.n(w),T="EjKAgOHhI2MH8N5AeybQr3ObfyI5rflV",A="215854",M=function(){function e(){Object(F.a)(this,e)}return Object(D.a)(e,null,[{key:"getCurrentWeather",value:function(){var e=Object(j.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(null!==r&&void 0!==r?r:A,"?apikey=").concat(T));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),t(e.t0,"Faild to fetch Current weather data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLocationsOptions",value:function(){var e=Object(j.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(T,"&q=").concat(t,"&language=en-us"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),r(e.t0,"Faild to fetch locations options data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getDaysOfDailyForecasts",value:function(){var e=Object(j.a)(f.a.mark((function e(t,r){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(null!==r&&void 0!==r?r:A,"?apikey=").concat(T));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),t(e.t0,"Faild to fetch days of daily forecasts data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),C=r(200),I=r(201),N={Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv",Country:{ID:"IL",LocalizedName:"Israel"},AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"}},R=r(65),S=r(66),L=r(186),V=Object(S.a)(p.a)(y||(y=Object(R.a)([" && {\n    border: 1px solid black;\n    padding: 20px;\n    min-width: 150px;\n    min-height: 200px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border-radius: 5px;\n    margin-right: 10px;\n    @media screen and (max-width: 1140px) {\n        width: 60%;\n        margin-right: 0;\n        margin-bottom: 20px;\n    }\n}"]))),_=Object(S.a)(V)(g||(g=Object(R.a)([" && {\n    position: relative;\n    margin-right: 0;\n    cursor: pointer;\n    &:hover {\n        background-color: #eee;\n    }\n}"]))),z=Object(S.a)(L.a)(k||(k=Object(R.a)([" && {\n    padding: 40px;\n    min-height: 60%;\n    @media screen and (max-width: 900px) {\n        padding: 10px;\n    }\n}"]))),W=r(188),H=r(99),K=r.n(H),P=r(4);function U(e){var t=e.daysOfDailyForecasts;return Object(P.jsx)(P.Fragment,{children:t.map((function(e,t){return Object(P.jsxs)(V,{children:[Object(P.jsx)(p.a,{children:K()(e.Date).format("ddd")}),Object(P.jsxs)(p.a,{children:[e.Temperature.Maximum.Value," ",e.Temperature.Maximum.Unit]})]},t)}))})}var B=r(189),J=r.p+"static/media/sun.00bf46d2.png";function X(e){var t=e.daysOfDailyForecasts,r=e.isDarkMode,n=e.currentWeather,a=e.currentLocationOption,c=e.canRenderCardDetails,i=e.isFavoriteWeather,o=e.handleAddToFavorite;return Object(P.jsx)(z,{variant:"outlined",style:r?{backgroundColor:"gray",color:"white"}:{},children:c&&a&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(p.a,{className:"contain-header-weader-card",children:[Object(P.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(P.jsx)(p.a,{mr:2,className:"weather-icon-contain",children:Object(P.jsx)("img",{src:J,alt:"Weather",style:{width:80,height:80}})}),Object(P.jsxs)(p.a,{children:[Object(P.jsx)(p.a,{children:a.LocalizedName}),n&&Object(P.jsxs)(p.a,{children:[n.Temperature.Metric.Value," ",n.Temperature.Metric.Unit]})]})]}),Object(P.jsxs)(W.a,{className:"add-favorite-btn",style:r?{color:"white"}:{},onClick:o,children:[Object(P.jsx)(B.a,{htmlColor:i()?"blue":"",className:"love-icon"}),"Add to favorite"]})]}),i()&&Object(P.jsx)(p.a,{textAlign:"center",mb:3,children:Object(P.jsx)(p.a,{fontSize:"20px",color:"blue",fontWeight:"700",children:"In Favorite"})}),Object(P.jsx)(p.a,{textAlign:"center",mb:3,children:Object(P.jsx)(p.a,{fontSize:"20px",children:"Scattered cloud"})}),Object(P.jsx)(p.a,{className:"contain-cards",children:Object(P.jsx)(U,{daysOfDailyForecasts:t})})]})})}var q={addFavorite:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ADD_FAVORITE",favorite:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveFavorite:m},Q=Object(o.b)((function(e){return{favorites:e.favorite.favorites,currentFavorite:e.favorite.currentFavorite,isDarkMode:e.darkMode.isDarkMode}}),q)((function(e){var t,r=Object(n.useState)(!1),a=Object(v.a)(r,2),c=a[0],i=a[1],o=Object(n.useState)(""),s=Object(v.a)(o,2),u=s[0],d=s[1],m=Object(n.useState)(""),y=Object(v.a)(m,2),g=y[0],k=y[1],F=Object(n.useState)([]),D=Object(v.a)(F,2),w=D[0],E=D[1],T=Object(n.useState)(e.currentFavorite?void 0:N),A=Object(v.a)(T,2),R=A[0],S=A[1],L=Object(n.useState)(null),V=Object(v.a)(L,2),_=V[0],z=V[1],W=Object(n.useState)(null),H=Object(v.a)(W,2),K=H[0],U=H[1],B=function(e,t){d(t),i(!0),setTimeout((function(){i(!1)}),5e3)},J=function(){var e=Object(j.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getCurrentWeather(B,t);case 2:r=e.sent,n=r.data[0],z(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getDaysOfDailyForecasts(B,null===t||void 0===t?void 0:t.Key);case 2:n=e.sent,U(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.DailyForecasts);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.next=4,q();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var t=Object(j.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.currentFavorite,t.next=3,J(r.key);case 3:return t.next=5,q(r);case 5:S(r),e.saveFavorite(null);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){e.currentFavorite?G():Q()}),[e.currentFavorite]);var Y=function(){var e=Object(j.a)(f.a.mark((function e(t){var r,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.value,k(r),!r){e.next=7;break}return e.next=5,M.getLocationsOptions(r,B);case 5:n=e.sent,E(null===n||void 0===n?void 0:n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(j.a)(f.a.mark((function e(t,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(r),e.next=3,q(r);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),$=function(){return!!e.favorites.find((function(e){return e.LocalizedName===(null===R||void 0===R?void 0:R.LocalizedName)}))},ee=!(!K||!((null===g||void 0===g?void 0:g.length)>0||R));return Object(P.jsxs)(p.a,{height:"100%",children:[Object(P.jsx)(p.a,{className:"autocomplete-contain",children:Object(P.jsx)(C.a,{options:w,freeSolo:!0,defaultValue:null!==(t=e.currentFavorite)&&void 0!==t?t:N,onChange:Z,getOptionLabel:function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.LocalizedName)&&void 0!==t?t:""},style:{width:300},renderInput:function(e){return Object(P.jsx)(b.a,Object(l.a)(Object(l.a)({},e),{},{label:"Add city name",value:g,onChange:Y}))}})}),Object(P.jsx)(X,{daysOfDailyForecasts:K,isDarkMode:e.isDarkMode,currentWeather:_,currentLocationOption:R,canRenderCardDetails:ee,handleAddToFavorite:function(){if(!$()){var t={id:(r=1,n=999999,Math.floor(Math.random()*(n-r)+r)),LocalizedName:R.LocalizedName,Key:R.Key,Temperature:_.Temperature};e.addFavorite(t)}var r,n},isFavoriteWeather:$}),Object(P.jsx)(O.a,{in:c,style:{position:"fixed",bottom:10,left:10,padding:10},children:Object(P.jsx)(I.a,{severity:"error",action:Object(P.jsx)(h.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){i(!1)},children:Object(P.jsx)(x.a,{fontSize:"inherit"})}),children:u})})]})})),G=r(193);function Y(e){var t=e.favoritesData,r=e.onDeleteFavorite,n=e.onClickFavoriteCard;return Object(P.jsx)(P.Fragment,{children:t.length>0?t.map((function(e){return Object(P.jsxs)(_,{onClick:function(){n(e)},children:[Object(P.jsx)(G.a,{title:"Delete",children:Object(P.jsx)(x.a,{className:"close-icon",onClick:function(t){return function(e,t){e.stopPropagation(),r(t)}(t,e.id)}})}),Object(P.jsx)(p.a,{children:e.LocalizedName}),Object(P.jsxs)(p.a,{children:[e.Temperature.Metric.Value," ",e.Temperature.Metric.Unit]})]},e.id)})):Object(P.jsx)(p.a,{children:Object(P.jsx)(p.a,{children:"Empty favorite..."})})})}var Z={deleteFavorite:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"DELETE_FAVORITE",favoriteId:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveFavorite:m},$=Object(o.b)((function(e){return{favorites:e.favorite.favorites}}),Z)((function(e){var t=Object(n.useState)([]),r=Object(v.a)(t,2),a=r[0],c=r[1],i=Object(u.g)();return Object(n.useEffect)((function(){e.favorites&&c(e.favorites)}),[e.favorites]),Object(P.jsx)(p.a,{className:"container-favorite-cards",children:Object(P.jsx)(Y,{favoritesData:a,onDeleteFavorite:function(t){e.deleteFavorite(t)},onClickFavoriteCard:function(t){i.push(ee.WEATHER),e.saveFavorite(t)}})})})),ee={ROOT:"/",WEATHER:"/weather",FAVORITE:"/favorite"},te=[{path:ee.ROOT,render:function(){return Object(P.jsx)(u.a,{to:ee.WEATHER})},title:"MDC Dashboard"},{path:ee.WEATHER,component:Q,title:"Weather"},{path:ee.FAVORITE,component:$,title:"Favorite"}];function re(){return Object(P.jsx)(u.d,{children:te.map((function(e){var t=e.path,r=e.exact,n=e.render,a=e.component;return Object(P.jsx)(u.b,{exact:!1!==r,path:t,render:n,component:a},t)}))})}var ne=r(199),ae=r(194),ce=r(202),ie=r(203),oe=r(195);var se={updateIsDarkMode:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(r){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"UPDATE_DARK_MODE",isDarkMode:e}),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ue=Object(o.b)((function(e){return{isDarkMode:e.darkMode.isDarkMode}}),se)((function(e){var t=Object(u.g)(),r=Object(n.useState)(0),a=Object(v.a)(r,2),c=a[0],i=a[1],o=Object(n.useState)(!1),s=Object(v.a)(o,2),l=s[0],d=s[1];return Object(P.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(P.jsxs)(ne.a,{indicatorColor:"primary",textColor:"primary",value:c,onChange:function(e,r){i(r),t.push(0===r?ee.WEATHER:ee.FAVORITE)},children:[Object(P.jsx)(ae.a,{icon:Object(P.jsx)(oe.a,{}),label:"Home"}),Object(P.jsx)(ae.a,{icon:Object(P.jsx)(B.a,{}),label:"Favorite"})]}),Object(P.jsx)(ce.a,{control:Object(P.jsx)(ie.a,{checked:l,onChange:function(){d(!l),e.updateIsDarkMode(!l)},name:"checkedB",color:"primary"}),label:"Dark mode"})]})}));var le=Object(o.b)((function(e){return{isDarkMode:e.darkMode.isDarkMode}}),{})((function(e){return Object(P.jsx)(s.a,{children:Object(P.jsxs)("section",{className:"app-container",children:[Object(P.jsx)(ue,{}),Object(P.jsx)("main",{className:"main-container",style:e.isDarkMode?{backgroundColor:"lightgray",color:"white"}:{},children:Object(P.jsx)(re,{})})]})})})),de=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,205)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))},fe=r(53),je=r(102),ve=r(103),pe={favorites:[],currentFavorite:null};var be={isDarkMode:!1};var Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.c,he=Object(fe.b)({favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVORITE":return Object(l.a)(Object(l.a)({},e),{},{favorites:[].concat(Object(ve.a)(e.favorites),[t.favorite])});case"SAVE_FAVORITE":return Object(l.a)(Object(l.a)({},e),{},{currentFavorite:t.favorite});case"DELETE_FAVORITE":return Object(l.a)(Object(l.a)({},e),{},{favorites:e.favorites.filter((function(e){return e.id!==t.favoriteId}))});default:return e}},darkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_DARK_MODE":return Object(l.a)(Object(l.a)({},e),{},{isDarkMode:t.isDarkMode});default:return e}}}),xe=Object(fe.d)(he,Oe(Object(fe.a)(je.a)));i.a.render(Object(P.jsx)(o.a,{store:xe,children:Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(le,{})})}),document.getElementById("root")),de()}},[[156,1,2]]]);
//# sourceMappingURL=main.0c6eff3d.chunk.js.map